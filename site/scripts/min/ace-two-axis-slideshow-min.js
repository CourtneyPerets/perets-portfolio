$(document).ready(function(){var o=.6,e=$(".page-two .main");e.data("project",0);var a=e.find(".main__project");a.each(function(){$(this).data("group",0)}),$("nav .project-nav").each(function(){var o=$(this).find("a").attr("href"),e=$(o).find(".group").length;$(this).append("<div class='dots'></div>");for(var a=0;e>a;a++)$(this).find(".dots").append("<a><span></span></a>");$(this).find(".dots a").each(function(o,e){$(this).on("click",function(){c(o+1)})})}),TweenMax.to(a.first().find(".carousel .group").first(),o,{left:"0%"});var t=function(){var t=a.eq(e.data("project"));TweenMax.to(t,o,{top:"100%",zIndex:5}),e.data("project",e.data("project")-1),-1==e.data("project")&&e.data("project",a.length-1);var r=a.eq(e.data("project")),n=r.find(".carousel .group").eq(0);TweenMax.to(n,0,{left:"0%"}),TweenMax.fromTo(r,o,{top:"-100%"},{delay:.1,top:"0%",zIndex:8}),console.log("change project to ",e.data("project")),c(1,!0),u()},r=function(){var t=a.eq(e.data("project"));TweenMax.to(t,o,{top:"-100%",zIndex:5}),e.data("project",e.data("project")+1),e.data("project")>=a.length&&e.data("project",0);var r=a.eq(e.data("project")),n=r.find(".carousel .group").eq(0);TweenMax.to(n,0,{left:"0%"}),TweenMax.fromTo(r,o,{top:"100%"},{delay:.1,top:"0%",zIndex:8}),console.log("change project to ",e.data("project")),c(1,!0),u()},n=function(t){console.log("jumpProject",t);var r=a.eq(e.data("project"));if(parseInt(e.data("project"))==parseInt(t)-1)return console.log("jump to same project!"),TweenMax.to(r,.1,{top:"-3%"}),TweenMax.to(r,.15,{delay:.1,top:"3%"}),void TweenMax.to(r,.1,{delay:.25,top:"0%"});TweenMax.to(r,o,{top:"-100%",zIndex:5}),e.data("project",parseInt(t)-1);var n=a.eq(e.data("project")),d=n.find(".carousel .group").eq(0);TweenMax.to(d,0,{left:"0%"}),TweenMax.fromTo(n,o,{top:"100%"},{delay:.3,top:"0%",zIndex:8}),c(1,!0),console.log("change project to ",e.data("project")),u()},d=function(){var t=a.eq(e.data("project")),r=t.find(".carousel .group").eq(t.data("group"));TweenMax.to(r,o,{left:"100%"}),t.data("group",t.data("group")-1),-1==t.data("group")&&t.data("group",t.find(".carousel .group").length-1);var n=t.find(".carousel .group").eq(t.data("group"));TweenMax.fromTo(n,o,{left:"-100%"},{left:"0%"}),console.log("change group to ",t.data("group")),u()},p=function(){var t=a.eq(e.data("project")),r=t.find(".carousel .group").eq(t.data("group"));TweenMax.to(r,o,{left:"-100%"}),t.data("group",t.data("group")+1),t.data("group")>=t.find(".carousel .group").length&&t.data("group",0);var n=t.find(".carousel .group").eq(t.data("group"));TweenMax.fromTo(n,o,{left:"100%"},{left:"0%"}),console.log("change group to ",t.data("group")),u()},c=function(t,r){var n=o;r&&(n=0);var d=a.eq(e.data("project")),p=d.find(".carousel .group").eq(d.data("group"));TweenMax.to(p,n,{left:"-100%"}),d.data("group",parseInt(t)-1);var c=d.find(".carousel .group").eq(d.data("group"));TweenMax.fromTo(c,n,{left:"100%"},{left:"0%"}),console.log("change group to ",d.data("group")),u()},u=function(){$(".page-two .header li").removeClass("active").eq(e.data("project")+1).addClass("active");var o=a.eq(e.data("project"));$("nav li.active .dots a").css("opacity",.2).eq(o.data("group")).css("opacity",1)};window.prevGroup=d,window.nextGroup=p,window.jumpGroup=c,window.prevProject=t,window.nextProject=r,window.jumpProject=n,$(window).on("keydown",function(o){return console.log(o.keyCode),o.preventDefault(),38==o.keyCode?(t(),!1):40==o.keyCode?(r(),!1):37==o.keyCode?(d(),!1):39==o.keyCode?(p(),!1):void 0}),$(".edge-top").on("click",t),$(".edge-bottom").on("click",r),$(".edge-right").on("click",p),$(".edge-left").on("click",d),u()});